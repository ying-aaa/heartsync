<content class="h-full flex flex-col">
  <header>
    <hs-code-toolbar
      [loadCustomComponent]="loadCustomComponent.bind(this)"
      [saveWidgetInfo]="saveWidgetInfo.bind(this)"
    ></hs-code-toolbar>
  </header>

  <main class="split-wrapper ex1 h-0 flex-1">
    <as-split
      [gutterSize]="12"
      (dragEnd)="log('dragEnd', $event)"
      direction="vertical"
    >
      <as-split-area [visible]="action.isVisibleA">
        <as-split
          [gutterSize]="12"
          (dragEnd)="log('dragEnd', $event)"
        >
          @if (action.isPresentA) {
            <as-split-area [visible]="action.isVisibleA">
              <hs-json-object-editor
                title="css"
                [type]="'css'"
                [(ngModel)]="widgetInfo().templateCss"
              ></hs-json-object-editor>
            </as-split-area>
          }
          @if (action.isPresentB) {
            <as-split-area [visible]="action.isVisibleB">
              <hs-json-object-editor
                title="html"
                [type]="'html'"
                [(ngModel)]="widgetInfo().templateHtml"
              ></hs-json-object-editor>
            </as-split-area>
          }
          @if (action.isPresentC) {
            <as-split-area [visible]="action.isVisibleC">
              <hs-json-object-editor
                title="javascript"
                [type]="'javascript'"
                [(ngModel)]="widgetInfo().templateJs"
              ></hs-json-object-editor>
            </as-split-area>
          }
        </as-split>
      </as-split-area>
      <as-split-area [visible]="action.isVisibleA">
        <as-split
          [gutterSize]="12"
          (dragEnd)="log('dragEnd', $event)"
        >
          <as-split-area size="33.1">
            <div class="p-8px">
              <formly-form
                [form]="formGroup"
                [fields]="fields"
                [model]="widgetInfo()"
              >
              </formly-form>
            </div>
          </as-split-area>
          <as-split-area [visible]="action.isVisibleB">
            <hs-widget-code #WidgetCode></hs-widget-code>
          </as-split-area>
        </as-split>
      </as-split-area>
    </as-split>
  </main>
</content>
