<content
  class="flex gap-8px items-center"
  [ngClass]="{
    'flex-wrap': isMobileTerminal && fileList.length,
  }"
>
  <hs-file-router
    [fileList]="fileList"
    [fileShowType]="fileShowType"
    [foldStartIndex]="foldStartIndex"
    class="w-full"
    [cols]="cols"
    [canAdd]="fileList.length < maxCount"
  >
    <div class="grid-content wh-full">
      <ng-container *ngTemplateOutlet="btn"> </ng-container>
    </div>
    <div class="fold-detail-content wh-full">
      <ng-container *ngTemplateOutlet="btn"> </ng-container>
    </div>
    <div class="detail-content wh-full">
      <ng-container *ngTemplateOutlet="btn"> </ng-container>
    </div>
    <div class="more-content wh-full">
      <ng-container *ngTemplateOutlet="btn"> </ng-container>
    </div>
  </hs-file-router>

  <input
    #fileInput
    type="file"
    ng2FileSelect
    [uploader]="uploader"
    [multiple]="multiple"
    (change)="onFilesSelected($event)"
    class="hidden!"
  />

  <ng-template #btn>
    @if (fileList.length < maxCount) {
      <button
        mat-button
        class="drag-drop-button"
        (dragover)="onDragOver($event)"
        (dragleave)="onDragLeave($event)"
        (drop)="onDrop($event)"
        (click)="fileInput.click()"
        [class.h-36px!]="fileShowType !== 'grid'"
      >
        @if (fileShowType !== 'grid') {
          <div class="flex-center">
            <mat-icon class="mr-5px">file_upload</mat-icon>
            <div class="whitespace-nowrap">上传</div>
          </div>
        } @else {
          <mat-icon class="m-0! text-28px! w-28px! h-28px!">add</mat-icon>
        }
      </button>
    }
  </ng-template>
</content>
